= RasPi `monitoring.fritz.box`
Sebastian Sommerfeld <sebastian@sommerfeld.io>
:description: Installation guide for machine 'caprica'

The Raspberry Pi node called "monitoring.fritz.box" serves as the central monitoring hub for all the machines in my homelab. To achieve this, I run a stack of Prometheus and Grafana in Docker.

With Prometheus, I can collect system metrics from all the machines in my homelab, including CPU usage, memory usage, disk utilization, and network traffic. This gives me a comprehensive view of the health and performance of my systems, allowing me to identify and address any issues before they become critical. In addition to system metrics, I have also configured Prometheus to collect data about the up/down status of services running on some machines and on the internet.

To visualize and analyze the data collected by Prometheus, I use Grafana, a powerful tool that allows me to create interactive dashboards. This enables me to quickly identify trends, anomalies, and other patterns in my system data, providing valuable insights into the health and performance of my homelab.

== Install OS ...
todo ... all manual steps (see https://github.com/sebastian-sommerfeld-io/configs/issues/91)

. Default hostname = `ubuntu`
. default username / password = `ubuntu` / `ubuntu`
. On Ubuntu Server an SSH client is already installed

== Start Services
Use `xref:AUTO-GENERATED:bash-docs/src/main/homelab/services-cli-sh.adoc[src/main/homelab/services-cli.sh]` to start Docker Compose services.

=== Docker Compose Stack: Ops
include::ROOT:partial$homelab/services/docker/ops.adoc[]

=== Docker Compose Stack: monitoring.fritz.box
include::ROOT:partial$homelab/services/docker/monitoring-fritz-box.adoc[]

== Risks and Technical Debts
Scale for Probability and Impact: Low, Medium and High

[cols="1,3,5,1,1,5", options="header"]
|===
|# |Title |Description |Probability |Impact |Response
// ---------- new line --------------------------------------------------------
|{counter:usage}
|Unstable setup / insufficient resources
|Running Prometheus, Grafana, and Loki on a single Raspberry Pi node might carry the risk that the machine may become overwhelmed and experience unexpected and/or repeated crashes due to insufficient resources.

A temporary supervisor node has been installed to monitor the stability of the primary monitoring node.
|Medium
|Medium
|If unexpected or repeated crashes occur, the solution is to split Prometheus, Grafana, and Loki and move each service to a dedicated Raspberry Pi node. By dedicating separate Raspberry Pi nodes to each service, the load can be distributed more evenly, reducing the strain on each machine and improving overall system stability.
// ---------- new line --------------------------------------------------------
|===
